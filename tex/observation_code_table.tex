\documentclass{article}

\usepackage[a4paper, total={6in, 9.5in}]{geometry}
\usepackage{pgfplotstable} 
\usepackage{longtable}
\usepackage{booktabs}
\renewcommand{\familydefault}{\sfdefault}




\pgfplotstableset{
begin table=\begin{longtable},
end table=\end{longtable},
}


\title {Copernicus Climate Change Service - 311a Lot 2\\Defining a common data model}
\author {David I. Berry}
\date {23 June 2017}
\begin{document}
\maketitle
\section {Decode tables}

\begin{table}[h!]
  \begin{center}
    \caption{Observation code table}
    \pgfplotstabletypeset[
        col sep=tab, string type,
        header=true,
        every head row/.style={before row=\toprule\toprule, after row=\bottomrule\bottomrule\endhead}, 
        every last row/.style={after row=\bottomrule},
        after row=\hline,
        columns={Value,code _table _scheme,code _table _id,Code Table Name},
        columns/Value/.style={string type, column type=l, string replace*={_}{}},
        columns/code _table _scheme/.style={string type, column type=l, string replace*={_}{}},
        columns/code _table _id/.style={string type, column type=l, string replace*={_}{}},
        columns/Code Table Name/.style={string type, column type=p{0.5\textwidth}, string replace*={_}{}}
    ]{/Users/dyb/Documents/Projects/C3S_311a_Lot2/WP2/CDM/github/tables/observation_code_table.csv}
  \end{center}
\end{table}

\end{document}
